(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18171,e=>{"use strict";let a;var t,s,l=e.i(31968),r=e.i(49417),i=e.i(93961),d=e.i(25695),n=e.i(79852),o=e.i(34470),c=e.i(64736);let u=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},h=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();var m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let p=(0,r.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:i,iconNode:d,...n},o)=>(0,r.createElement)("svg",{ref:o,...m,width:a,height:a,stroke:e,strokeWidth:s?24*Number(t)/Number(a):t,className:h("lucide",l),...!i&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(n)&&{"aria-hidden":"true"},...n},[...d.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(i)?i:[i]])),x=(t="upload",s=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],(a=(0,r.forwardRef)(({className:e,...a},l)=>(0,r.createElement)(p,{ref:l,iconNode:s,className:h(`lucide-${u(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,e),...a}))).displayName=u(t),a);function g(){let[e,a]=(0,r.useState)(null),[t,s]=(0,r.useState)(!1),[i,u]=(0,r.useState)(null),h=async()=>{if(!e)return;s(!0);let a=e.name.split(".").pop(),t=`${Math.random()}.${a}`,l=`${t}`;try{let{error:a}=await d.supabase.storage.from("uploads").upload(l,e);if(a)throw a;let{data:t}=d.supabase.storage.from("uploads").getPublicUrl(l);u(t.publicUrl),alert("Upload successful!")}catch(e){alert(e.message)}finally{s(!1)}};return(0,l.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,l.jsx)(c.Label,{htmlFor:"picture",children:"Picture"}),(0,l.jsx)(o.Input,{id:"picture",type:"file",onChange:e=>{e.target.files&&e.target.files.length>0&&a(e.target.files[0])}})]}),(0,l.jsxs)(n.Button,{onClick:h,disabled:!e||t,children:[t?"Uploading...":"Upload",(0,l.jsx)(x,{className:"ml-2 h-4 w-4"})]}),i&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Uploaded Image:"}),(0,l.jsx)("img",{src:i,alt:"Uploaded",className:"max-w-xs rounded-lg shadow-md"})]})]})}function f(){let[e,a]=(0,r.useState)(null),t=(0,i.useRouter)(),[s,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await d.supabase.auth.getUser();e?a(e):t.push("/auth"),o(!1)})()},[t]);let c=async()=>{await d.supabase.auth.signOut(),t.push("/")};return s?(0,l.jsx)("div",{className:"p-8",children:"Loading..."}):e?(0,l.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:e.email}),(0,l.jsx)(n.Button,{variant:"outline",onClick:c,children:"Sign Out"})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Upload Media"}),(0,l.jsx)(g,{})]})]})}):null}e.s(["default",()=>f],18171)}]);